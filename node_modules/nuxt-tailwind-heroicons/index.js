import {join} from 'path';

export default function NuxtTailwindHeroicons(moduleOptions) {

  const { nuxt } = this

  if (!nuxt.options.components) {
    throw new Error('Please set `components: true` inside `nuxt.config` and ensure using `nuxt >= 2.13.0`')
  }

  if(moduleOptions.outline) {
    this.nuxt.hook("components:dirs", (dirs) => {
      dirs.push({
        path: join(__dirname, "components/outline"),
        prefix: "hero-",
      });
    });
  }
  if(moduleOptions.solid) {
    this.nuxt.hook("components:dirs", (dirs) => {
      dirs.push({
        path: join(__dirname, "components/solid"),
        prefix: "hero-",
      });
    });
  }
  if(moduleOptions.mini) {
    this.nuxt.hook("components:dirs", (dirs) => {
      dirs.push({
        path: join(__dirname, "components/mini"),
        prefix: "hero-",
      });
    });
  }

}

module.exports.meta = require('./package.json');
